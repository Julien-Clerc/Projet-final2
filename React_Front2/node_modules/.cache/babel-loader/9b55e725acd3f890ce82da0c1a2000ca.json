{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useState, useMemo, useEffect, useLayoutEffect, createElement } from 'react';\nimport { Vector2 } from 'three';\nimport { LineGeometry } from 'three/examples/jsm/lines/LineGeometry';\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial';\nimport { Line2 } from 'three/examples/jsm/lines/Line2';\nconst Line = /*#__PURE__*/forwardRef(function Line(_ref, ref) {\n  let {\n    points,\n    color = 'black',\n    vertexColors,\n    lineWidth,\n    dashed\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"points\", \"color\", \"vertexColors\", \"lineWidth\", \"dashed\"]);\n\n  const [line2] = useState(() => new Line2());\n  const [lineMaterial] = useState(() => new LineMaterial());\n  const [resolution] = useState(() => new Vector2(512, 512));\n  const lineGeom = useMemo(() => {\n    const geom = new LineGeometry();\n    geom.setPositions(points.flat());\n\n    if (vertexColors) {\n      geom.setColors(vertexColors.flat());\n    }\n\n    return geom;\n  }, [points, vertexColors]);\n  useEffect(() => {\n    line2.computeLineDistances();\n  }, [line2]);\n  useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  return /*#__PURE__*/createElement(\"primitive\", _extends({\n    dispose: undefined,\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/createElement(\"primitive\", {\n    dispose: undefined,\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/createElement(\"primitive\", _extends({\n    dispose: undefined,\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\nexport { Line };","map":{"version":3,"sources":["/home/julien/Rendu/ETP/React_Front/node_modules/@react-three/drei/core/Line.js"],"names":["_extends","_objectWithoutPropertiesLoose","forwardRef","useState","useMemo","useEffect","useLayoutEffect","createElement","Vector2","LineGeometry","LineMaterial","Line2","Line","_ref","ref","points","color","vertexColors","lineWidth","dashed","rest","line2","lineMaterial","resolution","lineGeom","geom","setPositions","flat","setColors","computeLineDistances","defines","USE_DASH","needsUpdate","dispose","undefined","object","attach","Boolean","linewidth"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useState, useMemo, useEffect, useLayoutEffect, createElement } from 'react';\nimport { Vector2 } from 'three';\nimport { LineGeometry } from 'three/examples/jsm/lines/LineGeometry';\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial';\nimport { Line2 } from 'three/examples/jsm/lines/Line2';\n\nconst Line = /*#__PURE__*/forwardRef(function Line(_ref, ref) {\n  let {\n    points,\n    color = 'black',\n    vertexColors,\n    lineWidth,\n    dashed\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"points\", \"color\", \"vertexColors\", \"lineWidth\", \"dashed\"]);\n\n  const [line2] = useState(() => new Line2());\n  const [lineMaterial] = useState(() => new LineMaterial());\n  const [resolution] = useState(() => new Vector2(512, 512));\n  const lineGeom = useMemo(() => {\n    const geom = new LineGeometry();\n    geom.setPositions(points.flat());\n\n    if (vertexColors) {\n      geom.setColors(vertexColors.flat());\n    }\n\n    return geom;\n  }, [points, vertexColors]);\n  useEffect(() => {\n    line2.computeLineDistances();\n  }, [line2]);\n  useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  return /*#__PURE__*/createElement(\"primitive\", _extends({\n    dispose: undefined,\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/createElement(\"primitive\", {\n    dispose: undefined,\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/createElement(\"primitive\", _extends({\n    dispose: undefined,\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\n\nexport { Line };\n"]},"metadata":{},"sourceType":"module"}